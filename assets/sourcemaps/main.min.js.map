{"version":3,"sources":["components/masks.js","components/subscribeForm.js"],"names":["forEach","call","document","querySelectorAll","input","keyCode","phoneMask","event","this","selectionStart","preventDefault","matrix","i","def","replace","val","value","new_value","a","length","charAt","indexOf","slice","reg","substr","RegExp","test","type","addEventListener","$","submit","e","form","data","serialize","ajax","url","dataType","beforeSend","success","error","xhr","ajaxOptions","thrownError","complete","reset"],"mappings":"AACA,GAAGA,QAAQC,KAAKC,SAASC,iBAAiB,sBAAsB,SAAUC,GACtE,IAAIC,EACJ,SAASC,EAAUC,GACfA,EAAMF,UAAYA,EAAUE,EAAMF,SACxBG,KAAKC,eACL,GAAGF,EAAMG,iBACnB,IAAIC,EAAS,qBACTC,EAAI,EACJC,EAAMF,EAAOG,QAAQ,MAAO,IAC5BC,EAAMP,KAAKQ,MAAMF,QAAQ,MAAO,IAChCG,EAAYN,EAAOG,QAAQ,UAAU,SAAUI,GAC3C,OAAON,EAAIG,EAAII,OACTJ,EAAIK,OAAOR,MAAQC,EAAIO,OAAOR,GAC9BM,MAGJ,IADVN,EAAIK,EAAUI,QAAQ,QAElBT,EAAI,IAAMA,EAAI,GACdK,EAAYA,EAAUK,MAAM,EAAGV,IAEnC,IAAIW,EAAMZ,EACLa,OAAO,EAAGhB,KAAKQ,MAAMG,QACrBL,QAAQ,OAAO,SAAUI,GACtB,MAAO,SAAWA,EAAEC,OAAS,OAEhCL,QAAQ,SAAU,WACvBS,EAAM,IAAIE,OAAO,IAAMF,EAAM,MAEpBG,KAAKlB,KAAKQ,QACfR,KAAKQ,MAAMG,OAAS,GACnBd,EAAU,IAAMA,EAAU,MAE3BG,KAAKQ,MAAQC,GACC,QAAdV,EAAMoB,MAAkBnB,KAAKQ,MAAMG,OAAS,IAAGX,KAAKQ,MAAQ,IAGpEZ,EAAMwB,iBAAiB,QAAStB,GAAW,GAC3CF,EAAMwB,iBAAiB,QAAStB,GAAW,GAC3CF,EAAMwB,iBAAiB,OAAQtB,GAAW,GAC1CF,EAAMwB,iBAAiB,UAAWtB,GAAW;ACpCjDuB,EAAG,kBAAmBC,QAAO,SAASC,GAClCA,EAAErB,iBACF,IAAIsB,EAAOH,EAAErB,MACTyB,EAAOD,EAAKE,YAChBL,EAAEM,KAAK,CACHR,KAAM,OACNS,IAAK,0DACLC,SAAU,OACVJ,KAAMA,EACNK,WAAY,SAASL,KACrBM,QAAS,SAASN,KAGlBO,MAAO,SAAUC,EAAKC,EAAaC,KAGnCC,SAAU,SAASX,GACfD,EAAK,GAAGa","file":"../unbuild/main.min.js","sourcesContent":["// Маска телефона\r\n[].forEach.call(document.querySelectorAll('input[type=\"tel\"]'), function (input) {\r\n    var keyCode;\r\n    function phoneMask(event) {\r\n        event.keyCode && (keyCode = event.keyCode);\r\n        var pos = this.selectionStart;\r\n        if (pos < 3) event.preventDefault();\r\n        var matrix = \"+7 (___) ___-__-__\",\r\n            i = 0,\r\n            def = matrix.replace(/\\D/g, \"\"),\r\n            val = this.value.replace(/\\D/g, \"\"),\r\n            new_value = matrix.replace(/[_\\d]/g, function (a) {\r\n                return i < val.length\r\n                    ? val.charAt(i++) || def.charAt(i)\r\n                    : a;\r\n            });\r\n        i = new_value.indexOf(\"_\");\r\n        if (i != -1) {\r\n            i < 5 && (i = 3);\r\n            new_value = new_value.slice(0, i);\r\n        }\r\n        var reg = matrix\r\n            .substr(0, this.value.length)\r\n            .replace(/_+/g, function (a) {\r\n                return \"\\\\d{1,\" + a.length + \"}\";\r\n            })\r\n            .replace(/[+()]/g, \"\\\\$&\");\r\n        reg = new RegExp(\"^\" + reg + \"$\");\r\n        if (\r\n            !reg.test(this.value) ||\r\n            this.value.length < 5 ||\r\n            (keyCode > 47 && keyCode < 58)\r\n        )\r\n            this.value = new_value;\r\n        if (event.type == \"blur\" && this.value.length < 5) this.value = \"\";\r\n    }\r\n\r\n    input.addEventListener(\"input\", phoneMask, false);\r\n    input.addEventListener(\"focus\", phoneMask, false);\r\n    input.addEventListener(\"blur\", phoneMask, false);\r\n    input.addEventListener(\"keydown\", phoneMask, false);\r\n});","// themeName меняем на имя папки темы\r\n// form#subscribe меняем на селектор формы\r\n\r\n// Отправка данных с формы подписки на главной\r\n$( \"form#subscribe\" ).submit(function(e) {\r\n    e.preventDefault();\r\n    var form = $(this);\r\n    var data = form.serialize();\r\n    $.ajax({\r\n        type: 'POST',\r\n        url: '/wp-content/themes/themeName/includes/subscribeForm.php',\r\n        dataType: 'json',\r\n        data: data,\r\n        beforeSend: function(data) {},\r\n        success: function(data){\r\n\r\n        },\r\n        error: function (xhr, ajaxOptions, thrownError) {\r\n\r\n        },\r\n        complete: function(data) {\r\n            form[0].reset();\r\n        }\r\n    });\r\n});"]}